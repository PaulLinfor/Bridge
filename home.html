<!-- DOCTYPE -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bridge: Home</title>
    <meta charset="utf-8">
    <!-- Viewport Meta Tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  </head>
  <body>
    <h1> <!--Heading, includes Logo, Profile button, and other menu buttons -->
      Bridge
      <img src="images/defaultavatar.png" height = "40" width = "40" id = "hPic" class="rounded float-right" data-toggle = "modal" data-target="#Profile"><br />
	<div id = "studentB" class = "container hidden"> <!-- separating button groups by user type, will determine which one to show -->
	<button type="button" id ="etern" class="btn blue btn-sm">Eternships</button>
    <button type="button" id ="f5" class="btn blue btn-sm">Fab Five</button>
	</div>
	
	<div id = "creatorB" class = "container hidden">
	<button type="button" id = "mcon" class="btn blue btn-sm">Manage Content</button>
	</div>
	
	<div id = "badminB" class = "container hidden">
	<button type="button" id = "mcon" class="btn blue btn-sm">Manage Content</button>
    <button type="button" id="badmin" class="btn blue btn-sm">Manage Company</button>
	</div>
    <img src="images/settingsicon.png" height = "40" width = "40" id = "oPic" class="rounded float-right" data-toggle = "modal" data-target="#Settings">
  </h1>
  <div class="col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12" id= "column"> <!-- Container for cards -->
	<div class="container" id ="videoList">

	</div>
  </div>
<!-- Profile page,Edit Profile page and Settings page, activated and swapped by buttons -->
  <div class="modal fade" id="Profile" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header" id = "pHeader">
          <img src="images/defaultavatar.png" id = "pPic" class="img-thumbnail">
          <div class="modal-body">
            <h2 id="pName"></h2>
      </div>
      </div>
      <div class="modal-body">
        <div id = "Bio"></div>
		<h2 id = "pAffil"></h2>
		<p id= "group"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn blue" id="ePB" data-toggle ="modal" data-target = "#eProfile">Edit</button>
      </div>
    </div>
    </div>
    </div>
	
	  <div class="modal fade" id="oProfile" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header" id = "pHeader">
          <img src="images/defaultavatar.png" id = "pPic" class="img-thumbnail">
          <div class="modal-body">
            <h2 id="poName"></h2>
      </div>
      </div>
      <div class="modal-body">
        <div id = "oBio"></div>
		<h2 id = "opAffil"></h2>
		<p id= "ogroup"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" id="rPB">Report</button>
        <button type="button" class="btn blue" id="fPB" data-toggle ="modal" data-target = "#eProfile">Follow</button>
      </div>
    </div>
    </div>
    </div>

    <div class="modal fade" id="eProfile" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true"> <!--Modal opened when user wants to edit profile, same as self profile but with editable bio -->
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header" id = "pHeader">
            <img src="images/defaultavatar.png" id = "pPic" class="img-thumbnail">
            <div class="modal-body">
              <h2 id="peName"></h2>
            </div>
          </div>
        <div class="modal-body">
          <input class="text input-lg" id ="newBio"></input>
		<h2 id = "peAffil"><br /><br /></h2>
		<p id= "egroup"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn blue" id ="sPB" data-dismiss="modal" data-toggle ="modal" data-target = "#Profile">Save</button>
        </div>
      </div>
      </div>
      </div>

      <div class="modal fade" id="Settings" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
            <div class="modal-footer">
              <button type="button" class="btn blue"  id="cFieldB" data-dismiss="modal" data-toggle ="modal" data-target = "eProfile">Change Field</button><br />
              <button type="button" class="btn blue" id="logOutB" data-dismiss="modal">Log Out</button>
          </div>
          </div>
        </div>
        </div>
        </div>

        <div class="modal fade" id="aSet" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
              <div class="modal-footer" id = "aBody">
                <button type="button" class="btn blue" data-dismiss="modal">View All Accounts</button><br />
                <button type="button" class="btn blue" data-dismiss="modal">Manage Flagged Content</button>
            </div>
            </div>
          </div>
          </div>
          </div>
	<style>
	h1{
		background-color: #1A7CBC;
    height: 90px;
	}
	body{
		background-color: #82CBFB;
	}
  .newProfile{
    height:500px;
    width: 500px;
  }
  .row{
    margin-bottom: 10px;
    margin-left: 10px;
  }
  .aBody{
    padding-bottom:5px;
    text-align: center;
  }
  .Settings{
      margin-bottom:5px;
  }
  .sBody{
    background-color: #FF33E3;
  }
  .Settings:active{

  }
  .pAffil:default{
    text-decoration-color: #FF33E3;

  }
  .modal-footer .btn{
     margin-top: 15px;
   }
  .blue{
    background-color:#5B5B5B;
  }
  .card{
    margin-bottom: 15px;
  }
	</style>

		<!-- jQuery library -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>

		<!-- Popper -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

		<!-- Latest compiled and minified Bootstrap JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> <!--JQuery used for AJAX (communication between PHP and Javascript) -->
<script> //Javascript for the page here
var user;
$(document).ready(function () {
    $('#hPic').click(function onchange() { //click on to open own profile window
		  document.getElementById("newBio").val("");
      });
    $('#ePB').click(function onchange() { //fill in edit field with original bio, in case only minor edits are needed
          document.getElementById("newBio").innerHTML = " "
      });

    $('#sPB').click(function onchange() { //replace old profile with new one, replace bio in database
		  var newB = document.getElementById("newBio").text();
          $.post("php/home.php", {action:"eProfile", newBio:newB})
			.done(function(data){ //update profile live when finished
			document.getElementById("Bio").innerHTML = user[0].about_us;
			});

      });
    $('#logOutB').click(function onchange() { //replace old profile with new one, primitive
          window.location.href = '/Bridge/index.html';
      });
	$.post("php/home.php", {action:'init'}) //initial setup, runs on startup
	.done(function(data){
			user = JSON.parse(data); //fetch self information
			document.getElementById("pName").innerHTML = user[0].first_name + " " + user[0].last_name; //fill in self profile with information
			document.getElementById("peName").innerHTML = user[0].first_name + " " + user[0].last_name;
			document.getElementById("pAffil").innerHTML = "Company";
			document.getElementById("peAffil").innerHTML = "Company";
		    document.getElementById("Bio").innerHTML = user[0].about_us;
			if(user[0].account_type == "Student"){ //change page based on user type (hide options, tweak profile, etc.)
				$('#studentB').show();
			} 
			else if(user[0].account_type == "Creator"){
			    $("#creatorB").show();
		    document.getElementById("Bio").innerHTML = user[0].about_us;
			if(user[0].account_type = 'Student'){ //change page based on user type (hide options, tweak profile, etc.)
				$('#badmin').hide();
				$('#mcon').hide();
			} 
			if(user[0].account_type = "Creator"){
				$('#badmin').hide();
				$('#etern').hide();
				$('#f5').hide();
>>>>>>> 132ac050967ae592bacd6ec511de42169372d67f
			} 
			});
			
    $.post("php/home.php", {action:'cards'}) //generates cards
	.done(function(data){
			$('#videoList').append(data);
			});

		});

</script>

  </body>
</html>
